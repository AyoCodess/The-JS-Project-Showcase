{"version":3,"sources":["joke-teller/joke-teller.js"],"names":["button","document","getElementById","audioElement","toggleButton","disabled","resetButtonText","textContent","tellMe","joke","VoiceRSS","speech","key","src","hl","v","r","c","f","ssml","alert","getJokes","fetch","response","json","data","setup","delivery","console","error","addEventListener"],"mappings":";AAAA,aAqEA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,MAAA,GAAA,YAAA,EAAA,GAAA,EAAA,KAAA,EAAA,GAAA,QAAA,QAAA,GAAA,KAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,WAAA,IAAA,EAAA,KAAA,EAAA,UAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,MAAA,EAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QAAA,GAAA,OAAA,MAnEA,IAAMA,EAASC,SAASC,eAAxB,UACMC,EAAeF,SAASC,eAA9B,SAUA,SAASE,IACPJ,EAAOK,UAAYL,EAAOK,SAG5B,SAASC,IACPN,EAAOO,YAAP,yBAIF,SAASC,EAAOC,GACdC,SAASC,OAAO,CACdC,IAAK,mCACLC,IAAKJ,EACLK,GAAI,QACJC,EAAG,QACHC,EAAG,EACHC,EAAG,MACHC,EAAG,qBACHC,MAAM,IAxBVC,MAAA,0IA8BA,IAAIX,EAAO,GAEIY,SAAAA,IA8Bf,OAAA,EAAA,MAAA,KAAA,WAAA,SAAA,IAAA,OA9BA,EAAA,EAAA,mBAAA,KAAA,SAAA,IAAA,IAAA,EAAA,EAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EAI2BC,OAJ3B,EAAA,KAAA,EAAA,yGAAA,EAAA,KAAA,EAI2BA,MAJ3B,0GAAA,KAAA,EAMuBC,OAFbA,EAJV,EAAA,KAAA,EAAA,KAAA,EAMuBA,EAASC,OANhC,KAAA,GAMUC,EANV,EAAA,MAQaC,QACPjB,EAAUgB,GAAAA,OAAAA,EAAKC,MAAaD,SAAAA,OAAAA,EAAKE,WAG/BF,EAAKhB,OACPA,EAAUgB,GAAAA,OAAAA,EAAKhB,OAGjBD,EAAOC,GAIPT,EAAOO,YAAP,4BACAH,IArBJ,EAAA,KAAA,GAAA,MAAA,KAAA,GAAA,EAAA,KAAA,GAAA,EAAA,GAAA,EAAA,MAAA,GAuBIwB,QAAQC,MAAR,EAAA,IAvBJ,KAAA,GAAA,IAAA,MAAA,OAAA,EAAA,SAAA,EAAA,KAAA,CAAA,CAAA,EAAA,UA8BA,MAAA,KAAA,WAFA7B,EAAO8B,iBAA0BT,QAAAA,GACjClB,EAAa2B,iBAA0B1B,QAAAA,GACvCD,EAAa2B,iBAA0BxB,QAAAA","file":"joke-teller.5f30c821.js","sourceRoot":"..","sourcesContent":["\"use strict\";\n\nconst button = document.getElementById(`button`);\nconst audioElement = document.getElementById(`audio`);\n\n//? on load alert\n\nalert(\n  `We are still working on getting an actual Joker text-to-speech API to read the jokes aloud. For the meantime, enjoy the current voice.`\n);\n\n//? Disable/Enable button\n\nfunction toggleButton() {\n  button.disabled = !button.disabled;\n}\n\nfunction resetButtonText() {\n  button.textContent = `Joker, tell me a joke.`;\n}\n\n//? calling text-to-speech api with joke\nfunction tellMe(joke) {\n  VoiceRSS.speech({\n    key: \"970fa90033b04604871b3dcf69072515\",\n    src: joke,\n    hl: \"en-gb\",\n    v: \"Linda\",\n    r: 0,\n    c: \"mp3\",\n    f: \"44khz_16bit_stereo\",\n    ssml: false,\n  });\n}\n\n//? Get jokes from joke api\n\nlet joke = \"\";\n\nasync function getJokes() {\n  try {\n    const apiURL = `https://v2.jokeapi.dev/joke/Dark,Spooky?blacklistFlags=nsfw,religious,political,racist,sexist,explicit`;\n\n    const response = await fetch(apiURL);\n\n    const data = await response.json();\n\n    if (data.setup) {\n      joke = `${data.setup} ... ${data.delivery}`;\n    }\n\n    if (data.joke) {\n      joke = `${data.joke}`;\n    }\n\n    tellMe(joke);\n\n    //? disable button while joke is playing\n\n    button.textContent = `I'm telling you a joke...`;\n    toggleButton();\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n//? event listens\nbutton.addEventListener(`click`, getJokes);\naudioElement.addEventListener(`ended`, toggleButton);\naudioElement.addEventListener(`ended`, resetButtonText);\n"]}
{"version":3,"sources":["dbz-music-player/dbz-music-player.js"],"names":["image","document","querySelector","title","getElementById","artist","music","progressContainer","progress","currentTimeEl","durationEl","prevBtn","playBtn","nextBtn","songs","name","displayName","isPlaying","playSong","classList","replace","setAttribute","play","pauseSong","pause","loadSong","song","textContent","src","addEventListener","songIndex","nextSong","length","prevSong","updateProgressBar","e","srcElement","duration","currentTime","progressPercentage","style","width","durationMinutes","Math","floor","durationSeconds","currentTimeMinutes","currentTimeSeconds","setProgressBar","clientWidth","clickX","offsetX"],"mappings":"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","file":"dbz-music-player.bf570e3a.js","sourceRoot":"..","sourcesContent":["\"use strict\";\n\nconst image = document.querySelector(`.img`);\nconst title = document.getElementById(`title`);\nconst artist = document.getElementById(`artist`);\nconst music = document.querySelector(`audio`);\nconst progressContainer = document.getElementById(`progress-container`);\nconst progress = document.getElementById(`progress`);\nconst currentTimeEl = document.getElementById(`current-time`);\nconst durationEl = document.getElementById(`duration`);\nconst prevBtn = document.getElementById(`prev`);\nconst playBtn = document.getElementById(`play`);\nconst nextBtn = document.getElementById(`next`);\n\n//? Music\n\nconst songs = [\n  {\n    name: `BruceFaulconer-Dragonball-Z`,\n    displayName: `Dragonball Z - Intro`,\n    artist: `Bruce Faulconer`,\n  },\n  {\n    name: `BruceFaulconer-SSJ-Transformation`,\n    displayName: `SSJ Transformation`,\n    artist: `Bruce Faulconer`,\n  },\n  {\n    name: `BruceFaulconer-18-Vegetas-Theme`,\n    displayName: `Vegeta's Theme`,\n    artist: `Bruce Faulconer`,\n  },\n  {\n    name: `BruceFaulconer-03-Trunks-Appears`,\n    displayName: `Trunks Appears`,\n    artist: `Bruce Faulconer`,\n  },\n  {\n    name: `BruceFaulconer-Gohan-fights-Frieza`,\n    displayName: `Gohan Fights Frieza`,\n    artist: `Bruce Faulconer`,\n  },\n  {\n    name: `BruceFaulconer-Trunks-Compendium-Prelude-to-Conflict`,\n    displayName: `Dragonball Z - Intro 2`,\n    artist: `Bruce Faulconer`,\n  },\n  {\n    name: `BruceFaulconer-20-Vegeta-Super-Saiyan`,\n    displayName: `Vegeta Super Saiyan`,\n    artist: `Bruce Faulconer`,\n  },\n  {\n    name: `Trunks-Cell`,\n    displayName: `Trunks Vs Cell`,\n    artist: `Bruce Faulconer`,\n  },\n  {\n    name: `SSJ3-Powerup`,\n    displayName: `SSJ 3 Powerup`,\n    artist: `Bruce Faulconer`,\n  },\n];\n\n//? check if playing\nlet isPlaying = false;\n\n//? play\nfunction playSong() {\n  isPlaying = true;\n  playBtn.classList.replace(`fa-play`, `fa-pause`);\n  playBtn.setAttribute(`title`, `Pause`);\n  music.play();\n}\n\n//? pause\n\nfunction pauseSong() {\n  isPlaying = false;\n  playBtn.classList.replace(`fa-pause`, `fa-play`);\n  playBtn.setAttribute(`title`, `Play`);\n  music.pause();\n}\n\n//? play or pause\n\nplayBtn.addEventListener(`click`, () => {\n  isPlaying ? pauseSong() : playSong();\n});\n\n//? Update DOM\n\nfunction loadSong(song) {\n  title.textContent = song.displayName;\n  artist.textContent = song.artist;\n  music.src = `music/${song.name}.mp3`;\n  image.src = `img/${song.name}.jpeg`;\n}\n\n//? current song\n\nlet songIndex = 0;\n\nfunction nextSong() {\n  songIndex++;\n  if (songIndex >= songs.length) {\n    loadSong(songs[0]);\n    playSong();\n    songIndex = 0;\n  } else {\n    loadSong(songs[songIndex]);\n    playSong();\n  }\n}\n\nfunction prevSong() {\n  if (songIndex === 0) {\n    songIndex = songs.length;\n    loadSong(songs[songIndex - 1]);\n    playSong();\n    songIndex--;\n  }\n\n  songIndex--;\n  if (songIndex >= songs.length) {\n    loadSong(songs[0]);\n    playSong();\n    songIndex = 0;\n  } else {\n    loadSong(songs[songIndex]);\n    playSong();\n  }\n}\n\n//? on load - select first song\n\nloadSong(songs[songIndex]);\n\n//? update progress bar and time\n\nfunction updateProgressBar(e) {\n  if (isPlaying) {\n    const { duration, currentTime } = e.srcElement;\n\n    //? update progress bar width\n    const progressPercentage = (currentTime / duration) * 100;\n    progress.style.width = `${progressPercentage}%`;\n\n    //* calculate display for duration\n    const durationMinutes = Math.floor(duration / 60);\n\n    let durationSeconds = Math.floor(duration % 60);\n    if (durationSeconds < 10) {\n      durationSeconds = `0${durationSeconds}`;\n    }\n\n    //? delay switching duration element to avoid not a number\n\n    if (durationSeconds) {\n      durationEl.textContent = `${durationMinutes}:${durationSeconds}`;\n    }\n\n    //* calculate display for current\n    const currentTimeMinutes = Math.floor(currentTime / 60);\n\n    let currentTimeSeconds = Math.floor(currentTime % 60);\n    if (currentTimeSeconds < 10) {\n      currentTimeSeconds = `0${currentTimeSeconds}`;\n    }\n\n    //? delay switching duration element to avoid not a number\n\n    if (currentTimeSeconds) {\n      currentTimeEl.textContent = `${currentTimeMinutes}:${currentTimeSeconds}`;\n    }\n  }\n}\n\n//? set progress bar\n\nfunction setProgressBar(e) {\n  const width = this.clientWidth;\n  const clickX = e.offsetX;\n\n  const { duration } = music;\n\n  music.currentTime = (clickX / width) * duration;\n}\n//? Event Listeners\n\nprevBtn.addEventListener(`click`, prevSong);\nnextBtn.addEventListener(`click`, nextSong);\nmusic.addEventListener(`timeupdate`, updateProgressBar);\nprogressContainer.addEventListener(`click`, setProgressBar);\nmusic.addEventListener(`ended`, nextSong);\n"]}
{"version":3,"sources":["infinite-scroll-gallery/infinite-scroll-gallery-script.js"],"names":["apiKey","config","MY_API_TOKEN","imageContainer","document","getElementById","loader3","photosArray","readyToLoadMoreImages","currentAmountOfImagesLoaded","specifiedAmountOfImagesLoaded","initialLoad","query","apiURL","updateURLWithnewSpecifiedAmountOfImagesLoaded","newSpecifiedAmountOfImagesLoaded","imageLoader","hidden","console","log","setAttributes","element","attributes","nameOfAtr","setAttribute","displayPhotos","length","forEach","photo","item","createElement","href","urls","regular","target","img","src","alt","alt_description","title","addEventListener","append","getPhotos","fetch","response","json","data","alert","window","innerHeight","scrollY","body","offsetHeight"],"mappings":";AAsIS,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,MAAA,GAAA,YAAA,EAAA,GAAA,EAAA,KAAA,EAAA,GAAA,QAAA,QAAA,GAAA,KAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,WAAA,IAAA,EAAA,KAAA,EAAA,UAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,MAAA,EAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QAAA,GAAA,OAAA,MApIT,IAAMA,EAASC,OAAOC,aAIhBC,EAAiBC,SAASC,eAAhC,mBACMC,EAAUF,SAASC,eAAzB,WAEIE,EAAc,GACdC,GAAwB,EACxBC,EAA8B,EAC9BC,EAAgC,GAChCC,GAAc,EAIZC,EAAN,SAGIC,EAA8Db,qDAAAA,OAAAA,EAAgBY,WAAAA,OAAAA,EAAeF,WAAAA,OAAAA,GAEjG,SAASI,EACPC,GAEAF,EAA8Db,qDAAAA,OAAAA,EAAgBY,WAAAA,OAAAA,EAAeG,WAAAA,OAAAA,GAO/F,SAASC,MACPP,IAEoCC,IAClCF,GAAwB,EACxBF,EAAQW,QAAS,EAEjBP,EAAgC,GAChCQ,QAAQC,IAA8BT,yBAAAA,IAM1C,SAASU,EAAcC,EAASC,GACzB,IAAA,IAAMC,KAAaD,EACtBD,EAAQG,aAAaD,EAAWD,EAAWC,IAQ/C,SAASE,IACPhB,EAA8B,EAC9BS,QAAQC,IAAoCV,+BAAAA,GAE5CC,EAAgCH,EAAYmB,OAC5CR,QAAQC,IAAoBT,eAAAA,GAI5BH,EAAYoB,QAAQ,SAACC,GAGbC,IAAAA,EAAOzB,SAAS0B,cAAtB,KAEAV,EAAcS,EAAM,CAClBE,KAAMH,EAAMI,KAAKC,QACjBC,OAAQ,WAKJC,IAAAA,EAAM/B,SAAS0B,cAAc,OAEnCV,EAAce,EAAK,CACjBC,IAAKR,EAAMI,KAAKC,QAChBI,IAAKT,EAAMU,gBACXC,MAAOX,EAAMU,kBAKfH,EAAIK,iBAAyBxB,OAAAA,GAI7Ba,EAAKY,OAAON,GACZhC,EAAesC,OAAOZ,KAMXa,SAAAA,IAoCN,OAAA,EAAA,MAAA,KAAA,WAAA,SAAA,IAAA,OApCT,EAAA,EAAA,mBAAA,KAAA,SAAA,IAAA,IAAA,EAAA,EAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EAG2BC,OAH3B,EAAA,KAAA,EAEIzB,QAAQC,IAAsBR,iBAAAA,GAFlC,EAAA,KAAA,EAG2BgC,MAAM9B,GAHjC,KAAA,EAIuB+B,OADbA,EAHV,EAAA,KAAA,EAAA,KAAA,EAIuBA,EAASC,OAJhC,KAAA,EAIUC,EAJV,EAAA,KAMQnC,IACFG,EAA8C,IAC9CH,GAAc,GAGhBJ,EAAcuC,EACd5B,QAAQC,IAAIZ,GAEZW,QAAQC,IAAkCT,6BAAAA,GAC1Ce,IAfJ,EAAA,KAAA,GAAA,MAAA,KAAA,GAAA,EAAA,KAAA,GAAA,EAAA,GAAA,EAAA,MAAA,GAiBIsB,MAAA,GAAA,OAAA,EAAA,KAjBJ,KAAA,GAAA,IAAA,MAAA,OAAA,EAAA,SAAA,EAAA,KAAA,CAAA,CAAA,EAAA,UAoCS,MAAA,KAAA,WAbTC,OAAOR,iBAA2B,SAAA,WAE9BQ,OAAOC,YAAcD,OAAOE,SAAW9C,SAAS+C,KAAKC,aAAe,KACpE5C,IAEAA,GAAwB,EAExBkC,OAMJA","file":"infinite-scroll-gallery-script.e27bd792.js","sourceRoot":"..","sourcesContent":["//! hiding API KEYS\n\nconst apiKey = config.MY_API_TOKEN;\n\n//? DISPLAYING RESULtS\n\nconst imageContainer = document.getElementById(`image-container`);\nconst loader3 = document.getElementById(`loader3`);\n\nlet photosArray = [];\nlet readyToLoadMoreImages = false;\nlet currentAmountOfImagesLoaded = 0;\nlet specifiedAmountOfImagesLoaded = 15;\nlet initialLoad = true;\n\n//? API PARAMETERS\n\nconst query = `crypto`;\n\n//? API STRING\nlet apiURL = `https://api.unsplash.com/photos/random/?client_id=${apiKey}&query=${query}&count=${specifiedAmountOfImagesLoaded}`;\n\nfunction updateURLWithnewSpecifiedAmountOfImagesLoaded(\n  newSpecifiedAmountOfImagesLoaded\n) {\n  apiURL = `https://api.unsplash.com/photos/random/?client_id=${apiKey}&query=${query}&count=${newSpecifiedAmountOfImagesLoaded}`;\n}\n\n//* CREATE ELEMENTS FOR LINKS & PHOTOS, ADD TO DOM\n\n//* check if all images were loaded\n\nfunction imageLoader() {\n  currentAmountOfImagesLoaded++;\n\n  if (currentAmountOfImagesLoaded === specifiedAmountOfImagesLoaded) {\n    readyToLoadMoreImages = true;\n    loader3.hidden = true;\n\n    specifiedAmountOfImagesLoaded = 30;\n    console.log(`images per page loaded`, specifiedAmountOfImagesLoaded);\n  }\n}\n\n//* Helper function to set attributes on DOM elements\n\nfunction setAttributes(element, attributes) {\n  for (const nameOfAtr in attributes) {\n    element.setAttribute(nameOfAtr, attributes[nameOfAtr]);\n\n    // for (const [name, value] of Object.entries(attributes)) {\n    //   element.setAttribute(name, value);\n    // }\n  }\n}\n\nfunction displayPhotos() {\n  currentAmountOfImagesLoaded = 0;\n  console.log(`in the displayPhots function`, currentAmountOfImagesLoaded);\n\n  specifiedAmountOfImagesLoaded = photosArray.length;\n  console.log(`total images`, specifiedAmountOfImagesLoaded);\n\n  //? RUN FUNCTION FOR EACH OBJECT IN PHOTO-ARRAY\n\n  photosArray.forEach((photo) => {\n    //? creating a direct link to JPEG of photo\n\n    const item = document.createElement(`a`);\n\n    setAttributes(item, {\n      href: photo.urls.regular,\n      target: \"_blank\",\n    });\n\n    //? create <img> for photo\n\n    const img = document.createElement(\"img\");\n\n    setAttributes(img, {\n      src: photo.urls.regular,\n      alt: photo.alt_description,\n      title: photo.alt_description,\n    });\n\n    //? event listener check when each is finished loading\n\n    img.addEventListener(`load`, imageLoader);\n\n    //* put <img> inside <a>, then put both inside .image-container</a>\n\n    item.append(img);\n    imageContainer.append(item);\n  });\n}\n\n//? API CALL\n\nasync function getPhotos() {\n  try {\n    console.log(`original state`, initialLoad);\n    const response = await fetch(apiURL);\n    const data = await response.json();\n\n    if (initialLoad) {\n      updateURLWithnewSpecifiedAmountOfImagesLoaded(30);\n      initialLoad = false;\n    }\n\n    photosArray = data;\n    console.log(photosArray);\n\n    console.log(`images per page loaded 2nd`, specifiedAmountOfImagesLoaded);\n    displayPhotos();\n  } catch (error) {\n    alert(`${error}`);\n  }\n}\n\n//? check to see if scrolling near bottom of page, load more photos\n\nwindow.addEventListener(`scroll`, () => {\n  if (\n    window.innerHeight + window.scrollY >= document.body.offsetHeight - 1000 &&\n    readyToLoadMoreImages\n  ) {\n    readyToLoadMoreImages = false;\n\n    getPhotos();\n  }\n});\n\n//? API LOAD\n\ngetPhotos();\n"]}